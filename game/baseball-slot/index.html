<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Baseball Slot Demo</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header class="site-header">
      <h1>Baseball Slot Demo</h1>
      <button id="payout-toggle" class="text-button" aria-haspopup="dialog" aria-expanded="false">
        配当表を見る
      </button>
    </header>

    <main>
      <section class="status-panel" aria-live="polite">
        <div class="status-item">
          <h2>残高</h2>
          <p><span id="balance" class="value">0</span> クレジット</p>
        </div>
        <div class="status-item">
          <h2>ベット</h2>
          <div class="bet-control">
            <button id="bet-decrease" aria-label="ベットを減らす">–</button>
            <span id="bet" class="value">0</span>
            <button id="bet-increase" aria-label="ベットを増やす">+</button>
          </div>
        </div>
        <div class="status-item">
          <h2>直近の勝ち</h2>
          <p><span id="last-win" class="value">0</span> クレジット</p>
        </div>
        <div class="status-item">
          <h2>最高スコア</h2>
          <p><span id="high-score" class="value">0</span> クレジット</p>
        </div>
      </section>

      <section class="slot-machine" aria-label="スロットマシン">
        <div class="reel" data-reel="0" aria-live="polite">
          <img id="reel-0" src="assets/ball.svg" alt="ボール" role="img" aria-label="ボール" />
        </div>
        <div class="reel" data-reel="1" aria-live="polite">
          <img id="reel-1" src="assets/bat.svg" alt="バット" role="img" aria-label="バット" />
        </div>
        <div class="reel" data-reel="2" aria-live="polite">
          <img id="reel-2" src="assets/glove.svg" alt="グローブ" role="img" aria-label="グローブ" />
        </div>
      </section>

      <div class="controls">
        <button id="spin" class="primary" aria-label="スピンする">スピン (Space)</button>
        <button id="sound-toggle" aria-pressed="false" aria-label="サウンドをオンにする">
          サウンド OFF
        </button>
      </div>

      <section class="help">
        <h2>遊び方</h2>
        <ul>
          <li>クレジットをベットしてスピンします。Spaceキーでもスピンできます。</li>
          <li>↑/↓キーでベット額を増減できます（5～50）。</li>
          <li>3つ揃いで配当、2つ揃いでベット額が戻ります。</li>
          <li>このゲームはデモ用で、現金や景品は一切提供されません。</li>
        </ul>
      </section>
    </main>

    <dialog id="payout-dialog" aria-labelledby="payout-title">
      <h2 id="payout-title">配当表</h2>
      <table>
        <thead>
          <tr>
            <th scope="col">シンボル</th>
            <th scope="col">3つ揃い</th>
            <th scope="col">2つ揃い</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <th scope="row">トロフィー</th>
            <td>×50</td>
            <td>×1</td>
          </tr>
          <tr>
            <th scope="row">キャップ</th>
            <td>×20</td>
            <td>×1</td>
          </tr>
          <tr>
            <th scope="row">グローブ</th>
            <td>×12</td>
            <td>×1</td>
          </tr>
          <tr>
            <th scope="row">バット</th>
            <td>×8</td>
            <td>×1</td>
          </tr>
          <tr>
            <th scope="row">ボール</th>
            <td>×5</td>
            <td>×1</td>
          </tr>
        </tbody>
      </table>
      <button id="payout-close" class="primary">閉じる</button>
    </dialog>

    <footer>
      <p>© Baseball Slot Demo – オフラインで遊べる架空のスロットゲームです。</p>
    </footer>

    <script type="module" src="main.js"></script>
  </body>
</html>
